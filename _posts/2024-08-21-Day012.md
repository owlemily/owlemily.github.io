---
title: <Day012> Naver Boostcamp AI Tech
date: 2024-08-21
layout: post
tags: [Naver Boostcamp, daily report]
---
### 회고
- 항상 정규화와 표준화하는 방법에 대해서 헷갈렸고, 그것을 왜 해야 하는 지 명확히 대답할 수 없었는데 이번 공부로 명확히 알게 되었다. 
- 또한 지수, 제곱, 로그, 제곱근을 통해 전처리 하는 방법이 skewness 처리 시에 해야하는 것이며, negative, positive skewness 각각 어떤 상황에서 그 방법을 써야하는지 알게 되었다!!! 이는 내가 올해 초에 했던 강남구공모전에서 잘 모르고 데이터 전처리에 로그화 방법을 사용했었는데 그 이유를 이제 명확히 알게 되었다.
- Q. 3강 - 26:46 부근에서 정규화와 표준화로 데이터를 만든 후 skewness 값을 조정해야 한다고 했는데요, 정규화와 표준화로도 데이터의 분포가 어느정도 조정된 것 같은데 그상태에서 skewness 조정 과정을 진행해도 되나요? 아니면 보통 분석할 때 skewness를 먼저 진행한 후 정규화or표준화를 진행하나요?
- Q. 왜도 조정의 목적은 분포를 좀 더 정규분포 비슷하게 만드는 과정인데 이 변환을 정규화나 표준화를 진행한 후에 진행해도 상관없나요? 
	- box-cox Transformation의 경우 

	
### 새롭게 배운 내용

- 범주형 데이터 - 순서형/명목형
- 수치형 데이터 - 이산형/연속형
- 순서형과 수치형이 구분이 잘 안된다면?
	- 산술연산이 가능하면 수치형이다!
	- 예외적으로 평균평점같이 순서형도 계산 가능한 경우가 있긴하다.
- 명목형 : 텍스트로 구분되는 값
	- ex) 혈액형, 국가, 과일, 성별

---

**명목형 데이터 전처리-Label Encoding or Ordinal Encoding**

- 명목형 데이터를 ML/AI 모델에 넣기 위해서 수, 수배열로 치환하기
- 1대 1 매핑으로 숫자로 치환하여 배열로 만들기
- 문제점 
	- 없는 레이블은 미리 -1로 전처리해야함
	- 2개는 0과 1로 표현하여 괜찮음. but, 2개 이상의 경우 [0, 1, 2]로 레이블링 하면 자체적인 순서가 존재하여 -> 모델이 선형적 연산을 할 떄 bias가 생기면서 좋지 않은 결과를 내게됨.

**명목형 데이터 전처리-One-Hot Encoding**

- [1, 0, 0], [0,1,0], [0,0,1] 이런식으로 표현
- 장점: 다수 범주가 있으면 효과적인 인코딩. [1,1,0] 이런식으로 표현가능
- 문제점
	- 범주의 개수에 따라 데이터가 너무 커진다.

**Binary Encoding**
- 레이블링 -> 이진수로 변환 -> 컬럼 데이터로 변환

그 외에 성능을 높이기 위해 Embedding, Hashing과 같은 다양한 테크닉을 사용할 수 있다.


**순서형 데이터 - 순환형 데이터 (Cyclical Data)**
- 순서가 있지만 값이 순환하고, 우위가 없는 데이터
- 월, 요일, 각도

---

**수치형 데이터에서 데이터 해석**
- 수치형 데이터에서 대표값은 언제나 잘못된 정보를 제공할 수 있다.
- 데이터의 분포, 밀도차, 비교, 구성을 많이 해봐야한다. 
	- 이런 것들을 보기 위해 시각화도 해봐야하는 것.
	- 시각화를 통해 데이터의 분포를 알 수 있다.
	- 데이터의 분포: symmentric, skew left, skew right, uniform, bimodal(이변량- 데이터가 두개의 봉우리를 가지는 경우. 서로 다른 중심점을 가져서 두개의 주된 집단이 형성된 경우), multimodal(다변량- 두개 이상의 뚜렷한 봉우리를 가지는 경우, 데이터의 분포가 세 개 이상의 중심점을 가지고, 여러개의 집단이 형성되는 경우)
- 왜도(skewness) vs 첨도(Kurtois)
	- 왜도: 치우친 정도, 첨도: 뾰족한 정도
- ==이런 분포 파악이 중요한 이유==(데이터의 전처리 - 정규화와 표준화가 필요한 이유)
	- 데이터를 모델에 주입할텐데, *모델이 가정하고 있는 데이터*가 통계적으로 평평한 데이터를 선호하는지, 표준분포를 따르는 *분포를 선호하는지* 이런 것을 알고 있다면 모델에 좀 더 쉽게 정보를 주입할 수 있을 것.
	- 인지를 돕기 위해서 모델에 넣기 위해서 데이터를 어떻게 잘 가꿀까? 이런 것들을 고민해봐야한다!!!

---

**데이터 전처리 -> 정규화와 표준화**
- ==정규화(Normalization)==: 데이터 범위를 [0,1], [-1, 1]로 변환
	- 최솟값이 0, 최대값이 1로 치환되어야한다.
	- ==방법
		- 모든 값에 최솟값을 빼준 후 (데이터 분포(0,max-min)인 상태)
		- 이 상태에서 (max-min)으로 모든 값을 나눠준다.(데이터 분포(0, 1)인 상태)
- ==표준화(Standardization) ==: 데이터의 평균을 0, 표준편차를 1로 만들어서 데이터의 분포를 표준정규분포 형태로 변환
	- 방법
		- 각 값에서 평균을 빼 준다. => 전체 평균을 0으로 만드는 작업
		- 그 결과를 표준편차로 나눠준다. => 전체의 표준편차를 1로 만드는 과정
---

**대칭성을 위한 방법 - skewness 조정**
- skewness 조정은 모델에 주입하기에 있어서 데이터를 조금 더 많이 주입하기 위한 방법이다.
- Negative skew : 오른쪽으로 치우친 데이터
	- 큰 값에 값들이 모여있다. 
	- 큰 값의 구간을 넓혀서 분포를 중간으로 변할 수 있도록 해야한다.
	- **Square/Power Transformation**: 제곱변환 또는 거듭제곱
	- Exponential Transformation: 지수함수
	- => 부호에 영향을 받을 수 있으므로 표준화 등을 통해 전처리한 이후에 연산을 해야한다.
	- 큰 값의 구간을 넓히기 위해!! = 큰 값이 더 크게 차이 나게 하기 위해
	
- Positive skew: 왼쪽으로 치우친 데이터
	- 작은 값에 값들이 모여있다.
	- 작은 값을 더 효과적으로 크게 만들거나 큰 값의 구간을 작게 만들어야한다.
	- **Log Transformation**: 로그
	- **Square-root Transformation**: 제곱근
	- => 해당 연산은 0이상의 실수와 양수라는 조건이 있어야하므로 전처리를 한 후 연산해야한다.
	- 큰 값의 차이가 작게 나기 위한 연산.
- **Box-Cox Transformation**
	- Skewness 조정의 정식적인 방법론
	- 범용적인 Log Transformation 변형 방법론이다.
	- lambda라는 파라미터를 어떻게 선택하느냐에 따라 변환 효과가 달라진다.

---

**결측치 확인**
- pip install missingno 라이브러리를 통해 결측치 분포 확인을 할 수 있다.
- 결측치를 체크하는 시각화 라이브러리
- 결측치의 분포를 보고 어떻게 처리하면 좋을지, 각 feature의 결측치가 어떤 관계가 있는지

---

**이상치 검출**
- IQR
	- Q1 - 1.5 * IQR 이하
	- Q3 + 1.5 * IQR 이상
- 표준편차
	- 평균 +-[2, 3] * 표준편차
- 모델을 통한 이상치 검출
	- DBSCAN
		- 밀도 기반 클러스터링 -> 거리가 중요하다!
		- 집단을 묶기 : 포인트의 개수/경계/노이즈 설정하기
		- 밀도를 벗어나는 구간 -> 이상치데이터
	- Isolated Forest
		- 루트노드와의 거리를 통해 이상치를 탐지한다.
		- 거리의 정규화가 중요
		- 이상치가 엄청 많이 않은 경우에 사용할 것!

---

**클러스터링 주의점**

- 어떤 점들이 가깝다 라고 해석하기 위해서는 점들이 수치적으로 유사해야한다.
- -> 거리 정의 방식이 중요하다.
	- 대부분 유클리드 거리를 사용하여 스케일링 전처리
- K-mean같은 경우 예외치 해석을 안할 수도 있다.

---

**피처 엔지니어링**
 - 특성 추출
 - 특성 생성

**차원 축소**
- 높아진 차원에서 차원을 낮추는 것을 의미한다.
- 차원을 낮추면 
	- 복잡성 감소
	- 모델 성능향상
- ==가까운 데이터는 최대한 가깝게, 먼 데이터는 최대한 멀게==
	- 차원을 줄이면 사라지는 데이터가 있을 텐데 데이터의 왜곡을 최소화 해야한다.
	- 왜곡이란 가까운 데이터가 멀게 표현된다거나 그런것.
- API로 구현이 되어있다.

---

**seaborn을 사용하는 가장 큰 이유**
- 2차원 histgram
- 2차원 kdeplot을 나타내기 좋음

---

**상관관계**
- Person Linear correlation coefficient
	- 연속형 & 연속형 변수 사이에 사용
- Spearman Rank-order correlation coefficient
	- 순서형 변수에도 사용가능
- kendall Rank-order correlation coefficient
	- 순서형 변수에도 사용가능
